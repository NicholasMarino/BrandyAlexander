<div class="uk-height-large uk-background-cover uk-overflow-hidden uk-light uk-flex" style="background-image: url('https://picsum.photos/id/120/1200/800');">
  <div class="uk-width-1-1 uk-width-1-2@s uk-text-center uk-text-left@s uk-margin-auto uk-margin-auto-vertical">
    <h1 class="uk-heading-medium uk-margin-remove">Comet</h1>
    <p class="uk-text-lead uk-margin-remove">A One-Act Play</p>
    <p class="uk-text-meta">Now playing as part of Rhinofest 2024</p>
  </div>
</div>

<div class="uk-section">
  <div class="uk-container">
    <h2 class="uk-heading">Showtimes</h2>

    <div class="uk-card uk-card-default uk-grid uk-child-width-1-2@m" uk-grid *ngFor="let showrun of SHOWRUNS">
      <div class="uk-card-media-left uk-cover-container">
        <a href="{{showrun.ticketLink}}" target="_blank">
          <img src="{{showrun.address.image}}" alt="{{showrun.address.name}}" uk-cover>
        </a>
        <canvas width="600" height="600"></canvas>
      </div>
      <div>
        <div class="uk-card-body">
          <h3 class="uk-card-title uk-margin-remove-bottom">{{showrun.title}} at {{showrun.address.name}}</h3>
          <p class="uk-text-meta uk-margin-remove-top" *ngIf="showrun.address.line2">
            <a href="{{showrun.address.link}}" title="{{showrun.address.name}}" target="_blank">
              {{showrun.address.line1}} {{showrun.address.line2}}, {{showrun.address.city}}, {{showrun.address.state}} {{showrun.address.zip}}
            </a>
          </p>

          <p class="uk-text-meta uk-margin-remove-top" *ngIf="!showrun.address.line2">
            <a href="{{showrun.address.link}}" title="{{showrun.address.name}}" target="_blank">
              {{showrun.address.line1}}, {{showrun.address.city}}, {{showrun.address.state}} {{showrun.address.zip}}
            </a>
          </p>

          <p class="uk-text">{{showrun.description}}</p>

          <div *ngIf="showrun.ticketLink; then ticketsOpen; else ticketsClosed"></div>
          <ng-template #ticketsOpen>
            <div *ngIf="showrun.showtimes.length == 1; then singleShowtime; else multipleShowtimes"></div>
            <ng-template #singleShowtime>
              <a class="uk-button uk-button-primary" type="button" href="{{showrun.ticketLink}}" target="_blank">
                Tickets
              </a>
            </ng-template>
            <ng-template #multipleShowtimes>
              <button class="uk-button uk-button-primary" type="button">Tickets</button>
              <div uk-dropdown="animation: reveal-top; animation-out: true; delay-hide: 100">
                <ul class="uk-nav uk-dropdown-nav">
                  <li *ngFor="let showtime of showrun.showtimes">
                    <a href="{{showrun.ticketLink}}" target="_blank">
                      {{showtime.date | date: 'EEE, MMM d'}} at {{showtime.time}}
                    </a>
                  </li>
                </ul>
              </div>
            </ng-template>
          </ng-template>
          <ng-template #ticketsClosed>
            <button class="uk-button uk-button-primary" disabled type="button">
              Tickets Coming Soon
            </button>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</div>
